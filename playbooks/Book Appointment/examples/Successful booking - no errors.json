{
  "name": "d813e8ba-d6c9-49c8-ad78-39515bebc1ff",
  "actions": [ {
    "agentUtterance": {
      "text": "I can help you book an appointment. Could you provide me with an address so that I can search for nearby DMV offices for you?"
    }
  }, {
    "userUtterance": {
      "text": "Yes, it's 873 Blossom hills ave, San Jose, 95123."
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "get_nearby_dmv_offices",
      "inputParameters": [ {
        "name": "request",
        "value": {
          "address": "873 Blossom hills ave, San Jose, 95123"
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "nearby_dmv_offices": [ {
            "address": "3665 Flora Vista Ave, Santa Clara, CA 95051",
            "name": "Santa Clara DMV"
          }, {
            "address": "1500 Sullivan Ave, Daly City, CA 94015",
            "name": "Daly City DMV"
          }, {
            "address": "6300 W Las Positas Blvd, Pleasanton, CA 94588",
            "name": "Pleasanton DMV"
          } ]
        }
      } ]
    }
  }, {
    "agentUtterance": {
      "text": "Thank you. I have found the following nearby DMV offices for you. Please tell me which one you'd like to visit.\nSanta Clara DMV: 3665 Flora Vista Ave, Santa Clara, CA 95051\nDaly City DMV: 1500 Sullivan Ave, Daly City, CA 94015\nPleasanton DMV: 6300 W Las Positas Blvd, Pleasanton, CA 94588"
    }
  }, {
    "userUtterance": {
      "text": "The Daly City one"
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "select_dmv_office",
      "inputParameters": [ {
        "name": "request",
        "value": {
          "dmv_office_name": "Daly City DMV"
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "verify_result": "SUCCESS"
        }
      } ]
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "suggest_appointment_date",
      "inputParameters": [ {
        "name": "request",
        "value": {
        
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "suggested_dates": [ "2023-11-13", "2023-11-14", "2023-11-15", "2023-11-16" ]
        }
      } ]
    }
  }, {
    "agentUtterance": {
      "text": "What date would you like to book your appointment for? I have the following available:\n1. 11-13-2023\n2. 11-14-2023\n3. 11-15-2023\n4. 11-16-2023\nIf none of these dates work for you, you can also tell me another date you'd prefer."
    }
  }, {
    "userUtterance": {
      "text": "Yeah november 15 works for me"
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "select_appointment_date",
      "inputParameters": [ {
        "name": "request",
        "value": {
          "appointment_date": "2023-11-15"
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "verify_result": "SUCCESS"
        }
      } ]
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "get_available_appointment_time",
      "inputParameters": [ {
        "name": "request",
        "value": {
        
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "available_appointment_time": [ "11:30", "14:00", "16:30" ]
        }
      } ]
    }
  }, {
    "agentUtterance": {
      "text": "Thank you. What time would you like to visit? I have the following times on 11-15-2023 available:\n1. 11:30\n2. 14:00\n3. 16:30"
    }
  }, {
    "userUtterance": {
      "text": "The third one"
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "select_appointment_time",
      "inputParameters": [ {
        "name": "request",
        "value": {
          "appointment_time": "16:30"
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "verify_result": "SUCCESS"
        }
      } ]
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "get_session_information",
      "inputParameters": [ {
        "name": "request",
        "value": {
        
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "session_information": {
            "selected_appointment_date": "2023-11-15",
            "selected_appointment_time": "16:30",
            "selected_dmv_office": "Daly City DMV"
          }
        }
      } ]
    }
  }, {
    "agentUtterance": {
      "text": "Please confirm whether you'd like to book this appointment:\nOffice: Daly City DMV\nDate of appointment: 11-15-2023\nTime of appointment: 16:30"
    }
  }, {
    "userUtterance": {
      "text": "Yes"
    }
  }, {
    "toolUse": {
      "tool": "projects/support-now-417017/locations/global/agents/1549e96f-1af8-4209-bdd8-9729b0a95f01/tools/e4796839-fe96-4610-907d-280968269629",
      "action": "book_appointment",
      "inputParameters": [ {
        "name": "request",
        "value": {
        
        }
      } ],
      "outputParameters": [ {
        "name": "response",
        "value": {
          "confirmation_number": "L9UC52ZJ"
        }
      } ]
    }
  }, {
    "agentUtterance": {
      "text": "Thank you. I have booked the appointment your confirmation number is L9UC52ZJ."
    }
  } ],
  "playbookOutput": {
    "executionSummary": "Customer booked appointment at a DMV office."
  },
  "displayName": "Successful booking - no errors",
  "retrievalStrategy": "DEFAULT"
}
